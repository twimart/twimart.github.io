<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Create and configure a DNS server on Linux with Bind9 | WIMART Thomas</title><meta name=keywords content="linux,DNS"><meta name=description content="Install Bind9:
sudo apt-get install bind9
The Bind9 files are in /etc/bind/
cd /etc/bind/ Then, we put these 3 lines in the named.conf file:
include &#34;/etc/bind/named.conf.options&#34;; include &#34;/etc/bind/named.conf.local&#34;; include &#34;/etc/bind/named.conf.default-zones&#34;; In the Bind9 configuration file &ldquo;named.conf.local&rdquo;, declare its zones :
zone &#34;example.com&#34; { type master; file &#34;/etc/bind/db.example.com&#34;; }; ‚Üí The &ldquo;file&rdquo; line specifies that the configuration of our example.com zone will be done in the &ldquo;db.example.com&rdquo; file.
In db.example.com, we configure our zone (the IP of my DNS server is 192."><meta name=author content="Thomas"><link rel=canonical href=https://www.twimartgithub.io/posts/linux-dns/><link crossorigin=anonymous href=/assets/css/stylesheet.bc1149f4a72aa4858d3a9f71462f75e5884ffe8073ea9d6d5761d5663d651e20.css integrity="sha256-vBFJ9KcqpIWNOp9xRi915YhP/oBz6p1tV2HVZj1lHiA=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://www.twimartgithub.io/favicon.ico/><link rel=icon type=image/png sizes=16x16 href=https://www.twimartgithub.io/favicon-16x16.png/><link rel=icon type=image/png sizes=32x32 href=https://www.twimartgithub.io/favicon-32x32.png/><link rel=apple-touch-icon href=https://www.twimartgithub.io/apple-touch-icon.png/><link rel=mask-icon href=https://www.twimartgithub.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://www.twimartgithub.io/posts/linux-dns/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Create and configure a DNS server on Linux with Bind9"><meta property="og:description" content="Install Bind9:
sudo apt-get install bind9
The Bind9 files are in /etc/bind/
cd /etc/bind/ Then, we put these 3 lines in the named.conf file:
include &#34;/etc/bind/named.conf.options&#34;; include &#34;/etc/bind/named.conf.local&#34;; include &#34;/etc/bind/named.conf.default-zones&#34;; In the Bind9 configuration file &ldquo;named.conf.local&rdquo;, declare its zones :
zone &#34;example.com&#34; { type master; file &#34;/etc/bind/db.example.com&#34;; }; ‚Üí The &ldquo;file&rdquo; line specifies that the configuration of our example.com zone will be done in the &ldquo;db.example.com&rdquo; file.
In db.example.com, we configure our zone (the IP of my DNS server is 192."><meta property="og:type" content="article"><meta property="og:url" content="https://www.twimartgithub.io/posts/linux-dns/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-11-17T14:01:35+01:00"><meta property="article:modified_time" content="2022-11-17T14:01:35+01:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Create and configure a DNS server on Linux with Bind9"><meta name=twitter:description content="Install Bind9:
sudo apt-get install bind9
The Bind9 files are in /etc/bind/
cd /etc/bind/ Then, we put these 3 lines in the named.conf file:
include &#34;/etc/bind/named.conf.options&#34;; include &#34;/etc/bind/named.conf.local&#34;; include &#34;/etc/bind/named.conf.default-zones&#34;; In the Bind9 configuration file &ldquo;named.conf.local&rdquo;, declare its zones :
zone &#34;example.com&#34; { type master; file &#34;/etc/bind/db.example.com&#34;; }; ‚Üí The &ldquo;file&rdquo; line specifies that the configuration of our example.com zone will be done in the &ldquo;db.example.com&rdquo; file.
In db.example.com, we configure our zone (the IP of my DNS server is 192."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://www.twimartgithub.io/posts/"},{"@type":"ListItem","position":2,"name":"Create and configure a DNS server on Linux with Bind9","item":"https://www.twimartgithub.io/posts/linux-dns/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Create and configure a DNS server on Linux with Bind9","name":"Create and configure a DNS server on Linux with Bind9","description":"Install Bind9:\nsudo apt-get install bind9\nThe Bind9 files are in /etc/bind/\ncd /etc/bind/ Then, we put these 3 lines in the named.conf file:\ninclude \u0026#34;/etc/bind/named.conf.options\u0026#34;; include \u0026#34;/etc/bind/named.conf.local\u0026#34;; include \u0026#34;/etc/bind/named.conf.default-zones\u0026#34;; In the Bind9 configuration file \u0026ldquo;named.conf.local\u0026rdquo;, declare its zones :\nzone \u0026#34;example.com\u0026#34; { type master; file \u0026#34;/etc/bind/db.example.com\u0026#34;; }; ‚Üí The \u0026ldquo;file\u0026rdquo; line specifies that the configuration of our example.com zone will be done in the \u0026ldquo;db.example.com\u0026rdquo; file.\nIn db.example.com, we configure our zone (the IP of my DNS server is 192.","keywords":["linux","DNS"],"articleBody":"Install Bind9:\nsudo apt-get install bind9\nThe Bind9 files are in /etc/bind/\ncd /etc/bind/ Then, we put these 3 lines in the named.conf file:\ninclude \"/etc/bind/named.conf.options\"; include \"/etc/bind/named.conf.local\"; include \"/etc/bind/named.conf.default-zones\"; In the Bind9 configuration file ‚Äúnamed.conf.local‚Äù, declare its zones :\nzone \"example.com\" { type master; file \"/etc/bind/db.example.com\"; }; ‚Üí The ‚Äúfile‚Äù line specifies that the configuration of our example.com zone will be done in the ‚Äúdb.example.com‚Äù file.\nIn db.example.com, we configure our zone (the IP of my DNS server is 192.168.1.15 ):\n; ; BIND data file for example.com ; $TTL 604800 @ IN SOA example.com. root.example.com. ( 2 ; Serial 604800 ; Refresh 86400 ; Retry 2419200 ; Expire 604800 ) ; Negative Cache TTL IN A 192.168.1.15 ; @ IN NS ns.example.com. ns IN A 192.168.1.15 serv1 IN A 192.168.1.1 serv2 IN A 192.168.1.2 The first paragraph corresponds to the SOA record, we can leave it as it is.\nIn the second paragraph, we are going to give information to our DNS server, that means, we are going to enter manually the names of machines and their IP useful to my DNS server.\n‚ö† It is strongly recommended to make the NS record, it is the standard.\nFirst, I gave my DNS server the IPs of the other DNS servers in the example.com domain (this is the NS record). Although there is only one (my DNS server), I put it anyway.\nThen I declared 2 web servers, serv1 and serv2.\nI remind you that you will have to adapt this configuration according to your needs, this is only an example.\nIf our DNS server is not able to resolve a certain domain name, it must send these requests to other DNS servers that can do it. These servers are called ‚Äúforwarders‚Äù. We must indicate them in the file ‚Äúnamed.conf.options‚Äù.\nforwarders { 8.8.8.8; 172.25.254.15 ; }; You should now have a working DNS server! üòÅ\n","wordCount":"316","inLanguage":"en","datePublished":"2022-11-17T14:01:35+01:00","dateModified":"2022-11-17T14:01:35+01:00","author":{"@type":"Person","name":"Thomas"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.twimartgithub.io/posts/linux-dns/"},"publisher":{"@type":"Organization","name":"WIMART Thomas","logo":{"@type":"ImageObject","url":"https://www.twimartgithub.io/favicon.ico/"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.twimartgithub.io/ accesskey=h title="WIMART Thomas (Alt + H)"><img src=https://www.twimartgithub.io/apple-touch-icon.png alt aria-label=logo height=30>WIMART Thomas</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://www.twimartgithub.io/fr/ title=French aria-label="üåç FR ">üåç FR</a></li></ul></div></div><ul id=menu><li><a href=https://www.twimartgithub.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://www.twimartgithub.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://www.twimartgithub.io/search/ title="Search üîç (Alt + /)" accesskey=/><span>Search üîç</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://www.twimartgithub.io/>Home</a>&nbsp;¬ª&nbsp;<a href=https://www.twimartgithub.io/posts/>Posts</a></div><h1 class=post-title>Create and configure a DNS server on Linux with Bind9</h1><div class=post-meta><span title='2022-11-17 14:01:35 +0100 +0100'>November 17, 2022</span>&nbsp;¬∑&nbsp;2 min&nbsp;¬∑&nbsp;Thomas</div></header><div class=post-content><p>Install Bind9:</p><p><code>sudo apt-get install bind9</code></p><p>The Bind9 files are in <code>/etc/bind/</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-console data-lang=console><span class=line><span class=cl><span class=go>cd /etc/bind/ 
</span></span></span></code></pre></div><p>Then, we put these 3 lines in the named.conf file:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-console data-lang=console><span class=line><span class=cl><span class=go>include &#34;/etc/bind/named.conf.options&#34;;
</span></span></span><span class=line><span class=cl><span class=go>include &#34;/etc/bind/named.conf.local&#34;;
</span></span></span><span class=line><span class=cl><span class=go>include &#34;/etc/bind/named.conf.default-zones&#34;;
</span></span></span></code></pre></div><p>In the Bind9 configuration file &ldquo;named.conf.local&rdquo;, declare its zones :</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-console data-lang=console><span class=line><span class=cl><span class=go>zone &#34;example.com&#34; {
</span></span></span><span class=line><span class=cl><span class=go>        type master;
</span></span></span><span class=line><span class=cl><span class=go>        file &#34;/etc/bind/db.example.com&#34;;
</span></span></span><span class=line><span class=cl><span class=go>};
</span></span></span></code></pre></div><p>‚Üí The &ldquo;file&rdquo; line specifies that the configuration of our example.com zone will be done in the &ldquo;db.example.com&rdquo; file.</p><p>In db.example.com, we configure our zone (the IP of my DNS server is 192.168.1.15 ):</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-console data-lang=console><span class=line><span class=cl><span class=go>;
</span></span></span><span class=line><span class=cl><span class=go>; BIND data file for example.com
</span></span></span><span class=line><span class=cl><span class=go>;
</span></span></span><span class=line><span class=cl><span class=go></span><span class=gp>$</span>TTL    <span class=m>604800</span>
</span></span><span class=line><span class=cl><span class=go>@       IN      SOA     example.com. root.example.com. (
</span></span></span><span class=line><span class=cl><span class=go>                              2         ; Serial
</span></span></span><span class=line><span class=cl><span class=go>                         604800         ; Refresh
</span></span></span><span class=line><span class=cl><span class=go>                          86400         ; Retry
</span></span></span><span class=line><span class=cl><span class=go>                        2419200         ; Expire
</span></span></span><span class=line><span class=cl><span class=go>                         604800 )       ; Negative Cache TTL
</span></span></span><span class=line><span class=cl><span class=go>        IN      A       192.168.1.15
</span></span></span><span class=line><span class=cl><span class=go>;
</span></span></span><span class=line><span class=cl><span class=go>@       IN      NS      ns.example.com.
</span></span></span><span class=line><span class=cl><span class=go>ns      IN      A       192.168.1.15
</span></span></span><span class=line><span class=cl><span class=go>serv1   IN      A       192.168.1.1
</span></span></span><span class=line><span class=cl><span class=go>serv2   IN      A       192.168.1.2
</span></span></span></code></pre></div><p>The first paragraph corresponds to the SOA record, we can leave it as it is.</p><p>In the second paragraph, we are going to give information to our DNS server, that means, we are going to enter manually the names of machines and their IP useful to my DNS server.</p><p>‚ö† It is strongly recommended to make the NS record, it is the standard.</p><p>First, I gave my DNS server the IPs of the other DNS servers in the example.com domain (this is the NS record). Although there is only one (my DNS server), I put it anyway.</p><p>Then I declared 2 web servers, serv1 and serv2.</p><p><em><strong>I remind you that you will have to adapt this configuration according to your needs, this is only an example.</strong></em></p><p>If our DNS server is not able to resolve a certain domain name, it must send these requests to other DNS servers that can do it. These servers are called &ldquo;forwarders&rdquo;. We must indicate them in the file &ldquo;named.conf.options&rdquo;.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-console data-lang=console><span class=line><span class=cl><span class=go>forwarders {
</span></span></span><span class=line><span class=cl><span class=go>        8.8.8.8;
</span></span></span><span class=line><span class=cl><span class=go>        172.25.254.15 ;
</span></span></span><span class=line><span class=cl><span class=go>    };
</span></span></span></code></pre></div><p>You should now have a working DNS server! üòÅ</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://www.twimartgithub.io/tags/linux/>linux</a></li><li><a href=https://www.twimartgithub.io/tags/dns/>DNS</a></li></ul><nav class=paginav><a class=prev href=https://www.twimartgithub.io/posts/cisco-config/><span class=title>¬´ Prev</span><br><span>Basic configuration for a Cisco device</span></a>
<a class=next href=https://www.twimartgithub.io/posts/cisco-ssh/><span class=title>Next ¬ª</span><br><span>Set up an SSH connection on a Cisco device</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://www.twimartgithub.io/>WIMART Thomas</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>