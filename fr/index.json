[{"content":"Cr√©ation de noms d\u0026rsquo;utilisateurs, de domaines, et de cl√©s (Nous prenons ici l\u0026rsquo;exemple d\u0026rsquo;un router Cisco.)\nTout d\u0026rsquo;abord, si √ßa n\u0026rsquo;est pas d√©ja fait, donner un nom personnalis√© ainsi qu\u0026rsquo;un nom de domaine DNS √† votre appareil:\nRouter(config)# hostname Toto Toto(config)# ip domain-name exemple.com (si vous voulez faire votre propre serveur DNS Linux, j\u0026rsquo;ai fait un tuto ici )\nPensez √† s√©curiser le mode privil√©gi√© de votre appareil !\nToto(config)# enable secret \u0026lt;mot_de_passe\u0026gt; Ensuite, nous devons dire √† notre routeur (ou switch) de g√©n√©rer une paire de cl√©s asym√©trique (n√©cessaire √† la connexion SSH). Il faut aussi chiffrer ces cl√©s, on va pour cela utiliser le protocole RSA:\nToto(config)# crypto key generate rsa On va ensuite nous demander la taille voulu de la cl√©. Personnellement je met 1024 bits.\nThe name for the keys will be: Toto.exemple.com Choose the size of the key modulus in the range of 360 to 2048 for your General Purpose Keys. Choosing a key modulus greater than 512 may take a few minutes. How many bits in the modulus [512]: 1024 % Generating 1024 bit RSA keys, keys will be non-exportable. . . [OK] Toto(config)# On va maintenant cr√©er un utilisateur, c\u0026rsquo;est avec ses logins que l\u0026rsquo;on pourra se connecter au routeur (ou switch) √† distance. Ici, j\u0026rsquo;ai mis thomas pour le username et admin pour le mot de passe, mais vous mettrez √©videmment les valeurs que vous voulez.\nToto(config)# username thomas password admin Activation du protocole SSH On peut maintenant activer le protocole SSH sur notre routeur (ou switch):\nToto(config)# ip ssh version 2 Petite parenth√®se sur les commandes qui vont suivre: Pour se connecter sur appareil √† distance, il y a deux protocoles principaux: Telnet et SSH. Telnet est un protocole simple qui fonctionne bien, mais qui n\u0026rsquo;est pas du tout s√©curis√© et crypt√©: c\u0026rsquo;est √† dire que n\u0026rsquo;importe qui peut intercepter les trames de communication entre vous et l\u0026rsquo;appareil.\nSSH est quand lui crypt√© (gr√¢ce aux cl√©s que nous avons g√©n√©r√© plus t√¥t). La norme veut donc que l\u0026rsquo;on force notre switch √† ne communiquer qu\u0026rsquo;en SSH, et que la connexion en Telnet soit impossible (pour plus de s√©curit√©).\nC\u0026rsquo;est ce que l\u0026rsquo;on va faire maintenant.\nOn va d\u0026rsquo;abord forcer notre switch √† n\u0026rsquo;accepter que la communication entrante en SSH:\nToto(config)# line vty 0 4 Toto(config-line)# transport input ssh Puis on fait de m√™me pour la communication sortante:\nToto(config-line)# transport output ssh Maintenant, on peut v√©rifier les changement de configuration:\nToto# show running-config N\u0026rsquo;oubliez pas de sauvegarder la nouvelle configuration !\nToto# copy running-config startup-config Test de connexion (avec PuTTy) PuTTy est un logiciel gratuit qui permet de se connecter √† un appareil de plein de mani√®res diff√©rentes: c√¢ble s√©rie, Telnet, SSH\u0026hellip; Vous pouvez donc s√©lectionner SSH, puis rentrer l\u0026rsquo;addresse IP de votre appareil Cisco (la mienne √©tait 192.168.100.33): On va alors vous demander un username. Vous pouvez mettre celui que vous avez cr√©er pr√©cedemment (dans mon cas toto). Ensuite vous pouvez rentrer le mot de passe coresspondant √† cet utilisateur (pour moi c\u0026rsquo;est donc admin).\nEt vous √™tes enfin connect√© !\nUn mot de passe vous sera donc demand√© si vous voulez rentrer en mode privil√©gi√©.\nC\u0026rsquo;est tout pour la connexion SSH sur Cisco üòÅ!\n","permalink":"https://twimart.github.io/fr/notes/cisco-ssh/","summary":"Cr√©ation de noms d\u0026rsquo;utilisateurs, de domaines, et de cl√©s (Nous prenons ici l\u0026rsquo;exemple d\u0026rsquo;un router Cisco.)\nTout d\u0026rsquo;abord, si √ßa n\u0026rsquo;est pas d√©ja fait, donner un nom personnalis√© ainsi qu\u0026rsquo;un nom de domaine DNS √† votre appareil:\nRouter(config)# hostname Toto Toto(config)# ip domain-name exemple.com (si vous voulez faire votre propre serveur DNS Linux, j\u0026rsquo;ai fait un tuto ici )\nPensez √† s√©curiser le mode privil√©gi√© de votre appareil !\nToto(config)# enable secret \u0026lt;mot_de_passe\u0026gt; Ensuite, nous devons dire √† notre routeur (ou switch) de g√©n√©rer une paire de cl√©s asym√©trique (n√©cessaire √† la connexion SSH).","title":"Etablir une connexion SSH sur un appareil Cisco"},{"content":"Installer Bind9 :\nsudo apt-get install bind9\nLes fichiers de configuration de Bind9 sont dans /etc/bind/\ncd /etc/bind/ Tout d‚Äôabord, on met cet 3 lignes dans le fichier named.conf :\ninclude \u0026#34;/etc/bind/named.conf.options\u0026#34;; include \u0026#34;/etc/bind/named.conf.local\u0026#34;; include \u0026#34;/etc/bind/named.conf.default-zones\u0026#34;; -Dans le fichier de configuration de bind9 ¬´ named.conf.local ¬ª, d√©clarer ses zones :\nzone \u0026#34;example.com\u0026#34; { type master; file \u0026#34;/etc/bind/db.example.com\u0026#34;; }; ‚Üí La ligne \u0026ldquo;file\u0026rdquo; pr√©cise que la configuration de notre zone example.com se fera dans le fichier ¬´ db.example.com ¬ª\nDans db.example.com, on configure sa zone (l‚ÄôIP de mon serveur DNS est 192.168.1.15 ):\n; ; BIND data file for example.com ; $TTL 604800 @ IN SOA example.com. root.example.com. ( 2 ; Serial 604800 ; Refresh 86400 ; Retry 2419200 ; Expire 604800 ) ; Negative Cache TTL IN A 192.168.1.15 ; @ IN NS ns.example.com. ns IN A 192.168.1.15 serv1 IN A 192.168.1.1 serv2 IN A 192.168.1.2 La premier paragraphe correspond √† l‚Äôenregistrement SOA, on peut le laisser tel quel.\nDans le deuxi√®me paragraphe, on va donner des informations √† notre serveur DNS, c‚Äôest-√†-dire , qu‚Äôon va rentrer manuellement des noms de machines et leurs IP utiles √† mon serveur.\n‚ö† Il est fortement recommand√© de faire l‚Äôenregistrement NS, c‚Äôest la norme.\nPremi√®rement, j‚Äôai donner √† mon serveur DNS les IP des autres serveurs DNS du domaine example.com (c‚Äôest l‚Äôenregistrement NS). Malgr√© le fait qu‚Äôil n‚Äôy en ai qu‚Äôun seul (mon serveur DNS), je le met quand m√™me.\nEnsuite, j‚Äôai d√©clar√© 2 serveurs web, serv1 et serv2.\nJe rappelle qu‚Äôil faudra adapter cette configuration en fonction de ces besoins, celle-la n‚Äôest qu‚Äôun exemple.\nSi notre Serveur DNS n‚Äôest pas capable de r√©soudre certain nom de domaine, il faut qu‚Äôil envoie ces requ√™tes √† d‚Äôautre DNS qui pourront le faire. Ces serveurs s‚Äôappellent des ¬´ forwarders ¬ª. On doit les indiquer dans le fichier ¬´ named.conf.options ¬ª.\nforwarders { 8.8.8.8; 172.25.254.15 ; }; Vous devriez avoir maintenant un DNS fonctionnel! üòÅ\n","permalink":"https://twimart.github.io/fr/notes/linux-dns/","summary":"Installer Bind9 :\nsudo apt-get install bind9\nLes fichiers de configuration de Bind9 sont dans /etc/bind/\ncd /etc/bind/ Tout d‚Äôabord, on met cet 3 lignes dans le fichier named.conf :\ninclude \u0026#34;/etc/bind/named.conf.options\u0026#34;; include \u0026#34;/etc/bind/named.conf.local\u0026#34;; include \u0026#34;/etc/bind/named.conf.default-zones\u0026#34;; -Dans le fichier de configuration de bind9 ¬´ named.conf.local ¬ª, d√©clarer ses zones :\nzone \u0026#34;example.com\u0026#34; { type master; file \u0026#34;/etc/bind/db.example.com\u0026#34;; }; ‚Üí La ligne \u0026ldquo;file\u0026rdquo; pr√©cise que la configuration de notre zone example.com se fera dans le fichier ¬´ db.","title":"Cr√©er et configurer un serveur DNS sur Linux avec Bind9"},{"content":"Configuration basique Passer en mode privil√©gi√©, puis configuration du terminal:\nSwitch\u0026gt;en Switch#conf t D√©finir le nom du switch, ainsi que le domaine auquel il appartient (optionnel).\nSwitch(config)# Switch(config)# hostname SwitchToto SwitchToto(config)# ip domain-name exempledomaine.local SwitchToto(config)# end D√©finir l\u0026rsquo;addressage IP du switch. Pour cela, on doit cr√©er un VLAN d√©di√© √† la configuration du switch (ici le vlan 10). L\u0026rsquo;IP que nous allons d√©finir sera donc associ√© √† ce VLAN. Cr√©er le VLAN:\nSwitchToto(config)# vlan 10 SwitchToto(config-vlan)# exit Puis d√©finir la configuration IP:\nAddresse IP: 192.168.10.1 Masque de sous-r√©seau: 255.255.255.0 Passerelle par d√©faut: 192.168.10.254 SwitchToto(config)# interface vlan 10 SwitchToto(config-if)# ip address 192.168.10.1 255.255.255.0 SwitchToto(config-if)# ex SwitchToto(config)# ip default-gateway 192.168.10.254 Pour voir la configuration de notre vlan d\u0026rsquo;administration:\nSwitchToto# sh run int vlan 10 Pour supprimer l\u0026rsquo;addresse IP, son masque, ainsi que la passerelle par d√©faut:\nSwitchToto(config)# interface vlan 10 SwitchToto(config-if)# no ip address SwitchToto(config-if)# ex SwitchToto(config)# no ip default-gateway Il faut maintenant s√©curiser notre Switch. M√™me si cette √©tape est optionnelle, je vous la recommande fortement.\nOn va tout d\u0026rsquo;abord masquer les futurs mots de passe que nous allons mettre sur ce switch, de mani√®re √† ce qu\u0026rsquo;ils ne s\u0026rsquo;affichent pas √† l\u0026rsquo;√©cran m√™me lors d\u0026rsquo;un show running config. On va donc ajouter le service password-encryption.\nSwitch(config)# service password-encryption Puis nous pouvons d√©finir le mot de passe qui sera demand√© lorsque l\u0026rsquo;on voudra acc√®der au mode priviligi√©:\nSwitchToto(config)# enable secret P@55w0rd D√©sormais, si je veux rentrer dans le mode privil√©gi√©, il faudra que j\u0026rsquo;inscrive le mot de passe \u0026ldquo;P@55w0rd\u0026rdquo; (qui est d\u0026rsquo;ailleur un tr√®s mauvais mot de passe).\nSauvegarder la configuration Explication Les commutateur Cisco poss√®de 2 configurations: la \u0026ldquo;running-config\u0026rdquo; et la \u0026ldquo;startup-config\u0026rdquo;. Lorsque le switch d√©marre, il utilise sa \u0026ldquo;startup-config\u0026rdquo;. Si des changements de configuration sont cr√©es, ils se feront dans la \u0026ldquo;running-config\u0026rdquo;. Le commutateur utilisera alors sa \u0026ldquo;running-config\u0026rdquo;. En revanche, si les changements op√©r√©s se r√©velent √™tre un √©chec, il suffit de le red√©marrer. Ainsi, le switch utilisera sa \u0026ldquo;startup-config\u0026rdquo;, qui n\u0026rsquo;a donc pas chang√©e. Lorsque l\u0026rsquo;on est certain des changements faits, on peut copier la \u0026ldquo;running-config\u0026rdquo; dans la \u0026ldquo;startup-config\u0026rdquo;. Les changements seront alors pris en compte dans la config par d√©faut, de d√©marrage, du commutateur.\nCommandes SwitchToto# copy running-config starting-config Destination filename [startup-config]? Building configuration... [OK] 0 bytes copied in 0.923 secs (0 bytes/sec) SwitchToto# write Building configuration... [OK] SwitchToto# Vous devriez maintenant avoir un switch configur√© et s√©curis√© ! üòä\n","permalink":"https://twimart.github.io/fr/notes/cisco-config/","summary":"Configuration basique Passer en mode privil√©gi√©, puis configuration du terminal:\nSwitch\u0026gt;en Switch#conf t D√©finir le nom du switch, ainsi que le domaine auquel il appartient (optionnel).\nSwitch(config)# Switch(config)# hostname SwitchToto SwitchToto(config)# ip domain-name exempledomaine.local SwitchToto(config)# end D√©finir l\u0026rsquo;addressage IP du switch. Pour cela, on doit cr√©er un VLAN d√©di√© √† la configuration du switch (ici le vlan 10). L\u0026rsquo;IP que nous allons d√©finir sera donc associ√© √† ce VLAN. Cr√©er le VLAN:","title":"Configuration de base pour un commutatueur Cisco "},{"content":"Voil√† mon portfolio üìë : √Ä propos de moi Je m\u0026rsquo;appelle Thomas, et j\u0026rsquo;habite √† Amiens, en France. Actuellement √©tudiant en informatique, je m\u0026rsquo;int√©rresse de pr√®s √† l\u0026rsquo;admninistration des r√©seaux informatique, ainsi qu\u0026rsquo;√† la cybers√©curit√©. Ce site me sert √† la fois de portfolio, mais aussi de notes personnelles qui me servent pour les missions que je dois accomplir pour mes √©tudes.\nMes projets La conception et la maintenance de ce site constituent d√©ja un projet en soi: en effet le d√©vellopement web n\u0026rsquo;est pas vraiment mon point fort. Il m\u0026rsquo;a fallu beaucoup de temps pour faire fonctionner ce site\u0026hellip; Mais j\u0026rsquo;ai appris beaucoups de choses üôÇ.\nMes certifications Je suis titulaire d\u0026rsquo;une certification Cisco Netacad NDG Linux Essential. Cette certification atteste de mes connaissances des commandes basiques de Linux.\nMon CV Je dois juste prendre une photo de bg mais √ßa arrive bientot :)\n","permalink":"https://twimart.github.io/fr/french/porfolio/","summary":"Voil√† mon portfolio üìë : √Ä propos de moi Je m\u0026rsquo;appelle Thomas, et j\u0026rsquo;habite √† Amiens, en France. Actuellement √©tudiant en informatique, je m\u0026rsquo;int√©rresse de pr√®s √† l\u0026rsquo;admninistration des r√©seaux informatique, ainsi qu\u0026rsquo;√† la cybers√©curit√©. Ce site me sert √† la fois de portfolio, mais aussi de notes personnelles qui me servent pour les missions que je dois accomplir pour mes √©tudes.\nMes projets La conception et la maintenance de ce site constituent d√©ja un projet en soi: en effet le d√©vellopement web n\u0026rsquo;est pas vraiment mon point fort.","title":"Mon Portfolio"},{"content":"- hugo new site sitename -f yml Permet de cr√©er les fichiers de base pour la cr√©ation d\u0026rsquo;un nouveau site web. L\u0026rsquo;option \u0026ldquo;-f yml\u0026rdquo; va forcer la cr√©ation du fichier de configuration principal en .yml (ce que je recommande).\n- hugo server Permet de d√©marrer le serveur web local de hugo: cela va nous permettre de voir en direct les modifications apport√©es √† notre site web. Il faut ex√©cuter cette commande dans la racine de notre site web.\n- hugo new posts/filename.md Permet de cr√©er un nouveau post. L\u0026rsquo;extension .md pr√©cise qu\u0026rsquo;on va utiliser la syntaxe Markdown.\n","permalink":"https://twimart.github.io/fr/notes/hugo-commands/","summary":"- hugo new site sitename -f yml Permet de cr√©er les fichiers de base pour la cr√©ation d\u0026rsquo;un nouveau site web. L\u0026rsquo;option \u0026ldquo;-f yml\u0026rdquo; va forcer la cr√©ation du fichier de configuration principal en .yml (ce que je recommande).\n- hugo server Permet de d√©marrer le serveur web local de hugo: cela va nous permettre de voir en direct les modifications apport√©es √† notre site web. Il faut ex√©cuter cette commande dans la racine de notre site web.","title":"Commandes de base Hugo"}]